(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var i=n(3),a=n(4),s=n(7),r=n(6),c=n(1),o=n.n(c),d=n(5),u=n.n(d),l=(n(12),n(0));var m=document.getElementById("root"),h=function(e){Object(s.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={index:1,currentTime:"0:00",musicList:[{name:"Sky junior",author:"My music",img:"https://www.bensound.com/bensound-img/slowmotion.jpg",audio:"https://www.bensound.com/bensound-music/bensound-slowmotion.mp3",duration:"3:26"},{name:"SkyMap",author:"My music",img:"https://i.ytimg.com/vi/dW2vDEXFitk/maxresdefault.jpg",audio:"https://www.bensound.com/bensound-music/bensound-betterdays.mp3",duration:"2:24"},{name:"Earth",author:"My music",img:"https://www.bensound.com/bensound-img/newdawn.jpg",audio:"https://www.bensound.com/bensound-music/bensound-newdawn.mp3",duration:"5:13"},{name:"Creative",author:"My music",img:"https://st.depositphotos.com/1001201/3982/i/950/depositphotos_39824265-stock-photo-bulding-a-new-creative-idea.jpg",audio:"https://storage2.lightaudio.ru/7adb420/3d7d2e3391/Benjamin%20Tissot%20\u2014%20Creative%20Minds.mp3",duration:"2:27"}],pause:!1},e.changeCurrentTime=function(t){var n=e.playerRef.duration,i=e.timelineRef.offsetWidth,a=e.timelineRef.offsetLeft,s=100*(t.clientX-a)/i;e.playheadRef.style.width=s+"%",e.playerRef.currentTime=n*s/100},e.hoverTimeLine=function(t){var n=e.playerRef.duration,i=e.timelineRef.offsetWidth,a=e.timelineRef.offsetLeft,s=100*(t.clientX-a)/i;s<=100&&(e.hoverPlayheadRef.style.width=s+"%");var r=n*s/100;r>=0&&r<=n&&(e.hoverPlayheadRef.dataset.content=e.formatTime(r))},e.resetTimeLine=function(){e.hoverPlayheadRef.style.width=0},e.timeUpdate=function(){var t=e.playerRef.duration,n=(e.timelineRef.offsetWidth,e.playheadRef.offsetWidth,e.playerRef.currentTime/t*100);e.playheadRef.style.width=n+"%";var i=e.formatTime(parseInt(e.playerRef.currentTime));e.setState({currentTime:i})},e.formatTime=function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return t+":"+(n=n>=10?n:"0"+n%60)},e.updatePlayer=function(){var t=e.state,n=t.musicList[t.index];new Audio(n.audio);e.playerRef.load()},e.nextSong=function(){var t=e.state,n=t.musicList,i=t.index,a=t.pause;e.setState({index:(i+1)%n.length}),e.updatePlayer(),a&&e.playerRef.play()},e.prevSong=function(){var t=e.state,n=t.musicList,i=t.index,a=t.pause;e.setState({index:(i+n.length-1)%n.length}),e.updatePlayer(),a&&e.playerRef.play()},e.playOrPause=function(){var t=e.state,n=t.musicList,i=t.index,a=t.pause,s=n[i];new Audio(s.audio);e.state.pause?e.playerRef.pause():e.playerRef.play(),e.setState({pause:!a})},e.clickAudio=function(t){var n=e.state.pause;e.setState({index:t}),e.updatePlayer(),n&&e.playerRef.play()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.playerRef.addEventListener("timeupdate",this.timeUpdate,!1),this.playerRef.addEventListener("ended",this.nextSong,!1),this.timelineRef.addEventListener("click",this.changeCurrentTime,!1),this.timelineRef.addEventListener("mousemove",this.hoverTimeLine,!1),this.timelineRef.addEventListener("mouseout",this.resetTimeLine,!1)}},{key:"componentWillUnmount",value:function(){this.playerRef.removeEventListener("timeupdate",this.timeUpdate),this.playerRef.removeEventListener("ended",this.nextSong),this.timelineRef.removeEventListener("click",this.changeCurrentTime),this.timelineRef.removeEventListener("mousemove",this.hoverTimeLine),this.timelineRef.removeEventListener("mouseout",this.resetTimeLine)}},{key:"render",value:function(){var e=this,t=this.state,n=t.musicList,i=t.index,a=t.currentTime,s=t.pause,r=n[i];return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("div",{className:"current-song",children:[Object(l.jsxs)("audio",{ref:function(t){return e.playerRef=t},children:[Object(l.jsx)("source",{src:r.audio,type:"audio/ogg"}),"Your browser does not support the audio element."]}),Object(l.jsx)("div",{className:"img-wrap",children:Object(l.jsx)("img",{src:r.img})}),Object(l.jsx)("span",{className:"song-name",children:r.name}),Object(l.jsx)("span",{className:"song-autor",children:r.author}),Object(l.jsxs)("div",{className:"time",children:[Object(l.jsx)("div",{className:"current-time",children:a}),Object(l.jsx)("div",{className:"end-time",children:r.duration})]}),Object(l.jsxs)("div",{ref:function(t){return e.timelineRef=t},id:"timeline",children:[Object(l.jsx)("div",{ref:function(t){return e.playheadRef=t},id:"playhead"}),Object(l.jsx)("div",{ref:function(t){return e.hoverPlayheadRef=t},className:"hover-playhead","data-content":"0:00"})]}),Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsx)("button",{onClick:this.prevSong,className:"prev prev-next current-btn",children:Object(l.jsx)("i",{className:"fas fa-backward"})}),Object(l.jsx)("button",{onClick:this.playOrPause,className:"play current-btn",children:s?Object(l.jsx)("i",{className:"fas fa-pause"}):Object(l.jsx)("i",{className:"fas fa-play"})}),Object(l.jsx)("button",{onClick:this.nextSong,className:"next prev-next current-btn",children:Object(l.jsx)("i",{className:"fas fa-forward"})})]})]}),Object(l.jsx)("div",{className:"play-list",children:n.map((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(l.jsxs)("div",{onClick:function(){return e.clickAudio(n)},className:"track "+(i!==n||s?"":"current-audio")+(i===n&&s?"play-now":""),children:[Object(l.jsx)("img",{className:"track-img",src:t.img}),Object(l.jsxs)("div",{className:"track-discr",children:[Object(l.jsx)("span",{className:"track-name",children:t.name}),Object(l.jsx)("span",{className:"track-author",children:t.author})]}),Object(l.jsx)("span",{className:"track-duration",children:i===n?a:t.duration})]},n)}))})]})}}]),n}(o.a.Component);u.a.render(Object(l.jsx)(h,{}),m)}},[[14,1,2]]]);
//# sourceMappingURL=main.caad2a2b.chunk.js.map